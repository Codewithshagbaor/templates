{% extends 'base.html' %}
{% load static %}
{% load custom_filters %}

{% block title %}MediconnectExtra{% endblock %}
{% block content %}
<div class="slider-area position-relative">
    <div class="slider-active">

        <div class="single-slider slider-height slider-bg1 d-flex align-items-center prevArrow">
            <div class="container">
                <div class="row">
                    <div class="col-xxl-4 col-xl-5 col-lg-6 col-md-8 col-sm-10">
                        <div class="hero-caption">
                            <h1 data-animation="fadeInUp" data-delay=".2s">Give a helping hand to those who
                                need it!</h1>
                            <p data-animation="fadeInUp" data-delay=".4s">When a child gets access to good
                                food, it can change just about everything.</p>
                            <a href="programs.html" class="btn_1 hero-btn" data-animation="fadeInUp"
                                data-delay=".8s">Ongoing Programs</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="single-slider slider-height slider-bg1 d-flex align-items-center">
            <div class="container">
                <div class="row">
                    <div class="col-xxl-4 col-xl-5 col-lg-6 col-md-8 col-sm-10">
                        <div class="hero-caption">
                            <h1 data-animation="fadeInUp" data-delay=".2s">Give a helping hand to those who
                                need it!</h1>
                            <p data-animation="fadeInUp" data-delay=".4s">When a child gets access to good
                                food, it can change just about everything.</p>
                            <a href="programs.html" class="btn_1 hero-btn" data-animation="fadeInUp"
                                data-delay=".8s">Ongoing Programs</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<section class="about-area1 section-bg pt-60 pb-60">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-xxl-6 col-xl-5 col-lg-6 col-md-8">

                <div class="about-img about-img1  ">
                    <img src="https://f005.backblazeb2.com/file/CyberMedia/Style/img/sponsor1.jpg" alt="">
                </div>
            </div>
            <div class="offset-xl-1 col-xxl-4 col-xl-6 col-lg-6 col-md-9">
                <div class="about-caption about-caption1">

                    <div class="section-tittle mb-25">
                        <span>Featured</span>
                        <h2>The Evans Baroque Essay Competition (TEBEC 1.0)</h2>
                        <p class="mb-30">Evans Baroque is inviting all to live stream the pharmacy students nation wide to participation in an Essay Competiton on: Pharmacy strengthing health systems
                        </p>
                    </div>
                    <div class="double-btn d-flex flex-wrap">
                        <a href="/join/cde5f3f9-0/" class="border-btn">Live Stream</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<br>
<div class="class-offer-area fix">
    <div class="container-fluid p-0">
        <div class="class-offer-active row">
            {% for program in program_list reversed%}
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="properties pb-30">
                    <div class="properties__card">
                        <div class="properties__img" id="dynamic-background-div-{{ forloop.counter }}" style="text-align: center; display: flex; align-items: center; justify-content: center; color: #fff; padding: 20px;" >
                            {{ program.title|first }}
                          </div>
                          <script>
                            document.addEventListener('DOMContentLoaded', function() {
                              // JavaScript code to generate a random color and set it as the background
                              var dynamicBackgroundDiv = document.getElementById('dynamic-background-div-{{ forloop.counter }}');
                              var randomColor = '#' + Math.floor(Math.random()*16777215).toString(16);
                              dynamicBackgroundDiv.style.backgroundColor = randomColor;
                            });
                          </script>
                        <div class="properties__caption">
                            <h3><a href="#">{{ program.title | truncatewords:9}}</a></h3>
                            <p>Sedac odio aliquet, fringilla odio eget, tincidunt nunc duis aliquet pulvinar
                                ante start in life and the opportunity to learn. </p>
                        </div>
                        <div class="properties__footer d-flex flex-wrap justify-content-between align-items-center">
                            <div class="class-day">
                            </div>
                            <div class="class-day">
                            </div>
                            <div class="class-day">
                                {% if program.event_date|event_status == 'Finished' %}
                                <a type="button" class="genric-btn danger">Finished</a>
                              {% else %}
                                {% with chat_room=program.comp_host_link %}
                                {% if chat_room.room_id %}
                                <a href="{% url 'add_me_to_room' room_id=chat_room.room_id %}" class="btn_01">Stream</a>
                                {% else %}
                                <a type="button" class="genric-btn warning">No Stream</a>
                                {% endif %}
                                {% endwith %}
                              {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}